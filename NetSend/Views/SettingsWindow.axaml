<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:vm="clr-namespace:NetSend.ViewModels;assembly=NetSend"
		xmlns:ursa="https://irihi.tech/ursa"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="{Binding Height, ElementName=Core}" Width="400" Height="{Binding Height, ElementName=Core}"
        x:Class="NetSend.SettingsWindow"
		x:DataType="vm:SettingsWindowViewModel"
		WindowStartupLocation="CenterOwner"
		CanResize="False"
		Icon="/Assets/avalonia-logo.ico"
        Title="Настройки">

		<Grid Margin="5" 
			  Name="Core"
			  RowDefinitions="*, auto"
			  Height="300">
			<StackPanel Margin="5" Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Spacing="10">
				<StackPanel Name="Common" Spacing="5">
					<StackPanel Orientation="Horizontal" Spacing="5">
						<CheckBox Name="CommonBase" Content="Общая база настроек"/>
						<HyperlinkButton Content="?" ToolTip.Tip="В общей базе хранятся настройки программы, введенные фильтры и получатели. Если не задано, то будет создана база в каталоге программы"/>
					</StackPanel>
					<ursa:PathPicker AllowMultiple="False"
									 FileFilter="[Кэш,*.litedb]"
									 IsEnabled="{Binding IsChecked, ElementName=CommonBase}"
									 UsePickerType="OpenFile"
									 SelectedPathsText="{Binding SelectedCommonBase}"
									 Title="..."></ursa:PathPicker>
				</StackPanel>
				
				<StackPanel Name="Setting" Spacing="5">
					<StackPanel Orientation="Horizontal" Spacing="5">
						<CheckBox Name="MessageBase" Content="Общая база сообщений"/>
						<HyperlinkButton Content="?" ToolTip.Tip="Тут всё очевидно. Просто общая база сообщений :)"/>
					</StackPanel>
					<ursa:PathPicker AllowMultiple="False"
									 FileFilter="[Настройки,*.litedb]"
									 IsEnabled="{Binding IsChecked, ElementName=MessageBase}"
									 UsePickerType="OpenFile"
									 SelectedPathsText="{Binding SelectedSettingsBase}"
									 Title="..."/>
				</StackPanel>

				<StackPanel>
					<StackPanel Spacing="5">
						<CheckBox Content="Фильтр по-умолчанию:" Name="DefaultFilter"/>
						<TextBox Text="{Binding DefaultFilter}" IsEnabled="{Binding IsChecked, ElementName=DefaultFilter}"/>
					</StackPanel>
				</StackPanel>
			</StackPanel>

			<StackPanel Grid.Row="1"
						Margin="0 0 0 5"
						Spacing="10" 
						Orientation="Horizontal" 
						HorizontalAlignment="Center" 
						VerticalAlignment="Stretch">
				<Button Content="Сохранить"/>
			</StackPanel>

		</Grid>
</Window>
